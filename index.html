<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suivi de Fret Chine - CI</title>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>Application de Suivi de Fret</h1>

    <div class="container">

        <div class="volet" id="volet-chine">
            <h2>Volet 1: Enregistrement (Chine)</h2>
            <form id="form-chine">
                
                <div class="form-group">
                    <label for="date-envoi">Date d'envoi</label>
                    <input type="date" id="date-envoi" required>
                </div>

                <div class="form-group">
                    <label for="type-envoi">Type d'envoi</label>
                    <select id="type-envoi" required>
                        <option value="">-- Choisir un type --</option>
                        <option value="aerien">Aérien (10 000 CFA/Kg)</option>
                        <option value="maritime">Maritime (25 000 CFA/CBM)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="client-nom">Nom du client</label>
                    <input type="text" id="client-nom" placeholder="Nom de famille" required>
                </div>

                <div class="form-group">
                    <label for="client-prenom">Prénom du client</label>
                    <input type="text" id="client-prenom" placeholder="Prénom" required>
                </div>

                <div class="form-group">
                    <label for="quantite-envoyee">Quantité (ex: nb de colis)</label>
                    <input type="number" id="quantite-envoyee" min="0" required>
                </div>

                <div class="form-group" id="champ-poids">
                    <label for="poids-envoye">Poids (en Kg)</label>
                    <input type="number" id="poids-envoye" step="0.01" min="0" value="0">
                </div>

                <div class="form-group" id="champ-volume">
                    <label for="volume-envoye">Volume (en CBM)</label>
                    <input type="number" id="volume-envoye" step="0.01" min="0" value="0">
                </div>

                <div class="form-group">
                    <label for="photos-colis">Photos des colis (optionnel)</label>
                    <input type="file" id="photos-colis" accept="image/*" multiple>
                    
                    <div id="apercu-photos"></div>
                </div>


                <hr>
                <h3>Prix estimé : <span id="prix-calcule">0 CFA</span></h3>
                
                <button type="submit">Enregistrer l'expédition</button>
            </form>
        </div>

        <div class="volet" id="volet-ci">
            <h2>Volet 2: Réception (Côte d'Ivoire)</h2>
            
            <h3>Clients/Expéditions enregistrés</h3>
            <p><i>(Simulation de la liste de la base de données)</i></p>
            <ul id="liste-clients">
                <li onclick="selectionnerClient(this)" 
                    data-nom="Jean Dupont" 
                    data-qte="10" 
                    data-poids="50"
                    data-prix="500 000 CFA">
                    Client: Jean Dupont (Envoi du 2025-11-05)
                </li>
                <li onclick="selectionnerClient(this)" 
                    data-nom="Awa Traoré" 
                    data-qte="5" 
                    data-poids="150"
                    data-prix="1 500 000 CFA">
                    Client: Awa Traoré (Envoi du 2025-11-04)
                </li>
            </ul>

            <div id="details-reception">
                <h3>Enregistrer la réception pour : <span id="client-selectionne"></span></h3>
                
                <p>
                    <strong>Données envoyées (Chine) :</strong><br>
                    Quantité: <span id="qte-attendue"></span> colis<br>
                    Poids: <span id="poids-attendu"></span> Kg<br>
                    <strong>Prix estimé: <span id="prix-attendu" class="prix-final"></span></strong>
                </p>

                <form id="form-reception">
                    <div class="form-group">
                        <label for="quantite-recue">Quantité effectivement reçue</label>
                        <input type="number" id="quantite-recue" min="0">
                    </div>
                    
                    <div class="form-group">
                        <label for="poids-recu">Poids effectivement reçu (Kg)</label>
                        <input type="number" id="poids-recu" step="0.01" min="0">
                    </div>

                    <button type="button" onclick="comparerDonnees()">Vérifier les différences</button>
                </form>

                <div id="differences">
                    <p id="diff-qte"></p>
                    <p id="diff-poids"></p>
                </div>
            </div>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

    <script src="script.js"></script>
</body>
</html>
