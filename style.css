/* BASE */
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; background: #f4f7f6; color: #333; font-size: 14px; }
main { padding: 15px; max-width: 1350px; margin: 0 auto; }
h2 { font-size: 1.6em; border-bottom: 2px solid #eee; margin: 0 0 15px 0; padding-bottom: 5px; color: #2c3e50; }
h3 { font-size: 1.2em; color: #15609e; margin: 0 0 10px 0; }
.card { background: #fff; border: 1px solid #e1e4e8; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }

/* HEADER */
header { display: flex; justify-content: space-between; align-items: center; background: #fff; padding: 0 20px; height: 60px; border-bottom: 1px solid #ddd; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
.logo { height: 40px; }
.header-info { font-weight: bold; color: #555; }

/* NAV */
.main-nav { display: flex; background: #15609e; padding: 0 10px; border-radius: 0 0 8px 8px; margin-bottom: 20px; }
.nav-link { background: none; border: none; padding: 12px 20px; color: #e1e4e8; font-weight: 600; cursor: pointer; border-bottom: 4px solid transparent; transition: 0.3s; }
.nav-link:hover { background: rgba(255,255,255,0.1); color: #fff; }
.nav-link.active { background: #fff; color: #15609e; border-bottom: 4px solid #f0a500; border-radius: 4px 4px 0 0; margin-top: 4px; }
.page-content { display: none; animation: fadeIn 0.4s; }
@keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }
.info-text { font-size: 0.85em; color: #666; font-style: italic; margin-bottom: 10px; }

/* FORMULAIRES */
.form-group { margin-bottom: 15px; }
.form-group label { display: block; margin-bottom: 5px; font-weight: 600; font-size: 0.9em; color: #34495e; }
.form-group input, .form-group select { width: 100%; padding: 8px 12px; border: 1px solid #ced4da; border-radius: 4px; height: 38px; box-sizing: border-box; font-size: 0.95em; }
.form-group input:focus { border-color: #15609e; outline: none; box-shadow: 0 0 0 3px rgba(234, 236, 238, 0.1); }

/* BOUTONS */
button { cursor: pointer; border: none; border-radius: 5px; padding: 10px 18px; font-weight: 600; transition: 0.2s; font-size: 0.95em; }
.btn-principal { background: #15609e; color: white; width: 100%; }
.btn-principal:hover { background: #104e80; transform: translateY(-1px); }
.btn-secondaire { background: #6c757d; color: white; width: 100%; margin-top: 5px; }
.btn-secondaire:hover { background: #5a6268; }
.btn-small { width: auto; padding: 6px 12px; font-size: 0.85em; }
.export-buttons { display: flex; gap: 10px; margin-bottom: 15px; }

/* TABLEAUX MODERNES */
.table-container { overflow-x: auto; border-radius: 6px; border: 1px solid #eee; }
table { width: 100%; border-collapse: collapse; margin-top: 0; font-size: 0.9em; }
th { background: #f8f9fa; color: #495057; text-transform: uppercase; font-size: 0.85em; padding: 10px; text-align: left; border-bottom: 2px solid #dee2e6; }
td { padding: 10px; border-bottom: 1px solid #dee2e6; color: #212529; }
tbody tr:hover { background-color: #f1f3f5; }

/* NOUVEAU : TABLEAU PAIEMENT TYPE "WIDGET" */
.dashboard-payments-modern { background: #fff; border: 1px solid #ccc; border-radius: 4px; overflow: hidden; }
.modern-payment-table { width: 100%; border-collapse: collapse; font-family: 'Arial', sans-serif; }
.modern-payment-table th { background-color: #333; color: #fff; text-align: left; padding: 8px 12px; font-weight: normal; font-size: 0.9em; border-bottom: 1px solid #555; }
.modern-payment-table td { padding: 8px 12px; border-bottom: 1px solid #eee; }
.modern-payment-table tr:last-child td { border-bottom: none; }
.modern-payment-table td:first-child { font-weight: bold; color: #444; display: flex; align-items: center; gap: 8px; }
.modern-payment-table td:not(:first-child) { text-align: right; font-family: 'Courier New', monospace; font-weight: bold; }
.modern-total-row { background-color: #f4f4f4; border-top: 2px solid #333; }
.modern-total-row td { font-size: 1.1em; color: #000 !important; }

/* TABLEAU COMPTA EXCEL */
.excel-table th { background: #b0c5da; color: #fff; text-align: center; border-right: 1px solid #34495e; }
.excel-table td { text-align: center; border-right: 1px solid #eee; }
.excel-table td:nth-child(6) { color: #c0392b; font-weight: bold; } /* Reste */
.excel-table td:nth-child(7) { color: #27ae60; font-weight: bold; } /* Entrée */
.excel-table td:nth-child(8) { color: #c0392b; font-weight: bold; } /* Sortie */
.btn-suppr-small { background: #e74c3c; color: white; padding: 3px 8px; font-size: 11px; border-radius: 3px; }
.interactive-table-row { cursor: pointer; }
.interactive-table-row:hover { background-color: #e8f0fe !important; }

/* BADGES & DASHBOARD */
.status-badge { padding: 4px 10px; border-radius: 20px; font-size: 0.8em; font-weight: bold; color: #fff; display: inline-block; }
.status-attente { background: #95a5a6; }
.status-conforme { background: #27ae60; }
.status-ecart { background: #e74c3c; }
.status-superieur { background: #2980b9; }

.dashboard-grid { display: grid; grid-template-columns: 1fr 1.2fr; gap: 20px; margin-bottom: 20px; }
.summary-row { display: flex; justify-content: space-between; padding: 12px 20px; border-radius: 6px; margin-bottom: 10px; font-weight: bold; align-items: center; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
.red-bg { background: #fadbd8; color: #c0392b; border-left: 5px solid #c0392b; }
.white-bg { background: #fff; border: 1px solid #ddd; border-left: 5px solid #27ae60; }
.blue-light-bg { background: #d6eaf8; color: #2980b9; border-left: 5px solid #2980b9; }
.text-green { color: #27ae60; } .text-red { color: #c0392b; } .text-blue { color: #2980b9; }

/* MODAL */
.modal-backdrop { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); backdrop-filter: blur(2px); align-items: center; justify-content: center; }
.modal-content { background: #fff; border-radius: 8px; padding: 25px; width: 95%; max-width: 600px; max-height: 90vh; overflow-y: auto; position: relative; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
.modal-close { position: absolute; top: 10px; right: 20px; font-size: 28px; font-weight: bold; cursor: pointer; color: #aaa; transition: 0.2s; }
.modal-close:hover { color: #333; }

/* COULEURS MOIS */
.row-month-0 { background-color: #e1f5fe; } .row-month-1 { background-color: #f3e5f5; } .row-month-2 { background-color: #e8f5e9; }
.row-month-3 { background-color: #fff3e0; } .row-month-4 { background-color: #fce4ec; } .row-month-5 { background-color: #fffde7; }
.row-month-6 { background-color: #e0f2f1; } .row-month-7 { background-color: #ffebee; } .row-month-8 { background-color: #ede7f6; }
.row-month-9 { background-color: #e0f7fa; } .row-month-10 { background-color: #f1f8e9; } .row-month-11 { background-color: #eceff1; }
 
/* LIGNE TOTAL GROUPE (CORRIGÉE) */
tr.group-summary-row {
    background-color: #444 !important;
}
tr.group-summary-row td {
    color: #00ffff !important; /* Cyan fluo */
    font-weight: bold;
    border: 1px solid #666;
    text-align: center;
}

/* AUTOCOMPLETE */
.autocomplete-container { position: relative; }
.autocomplete-items { display: none; position: absolute; border: 1px solid #ddd; background: #fff; z-index: 100; top: 100%; left: 0; right: 0; max-height: 150px; overflow-y: auto; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
.autocomplete-items div { padding: 10px; cursor: pointer; border-bottom: 1px solid #eee; }
.autocomplete-items div:hover { background: #f8f9fa; }

@media (max-width: 768px) { .dashboard-grid { grid-template-columns: 1fr; } header { flex-direction: column; height: auto; } }
